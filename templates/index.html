<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>Daily Report</title>
</head>
<body>
  <h2>Daily Report Form</h2>
  <form id="reportForm">
    <label>เครื่องจักร:</label>
    <select id="machine"></select><br><br>

    <label>พนักงาน:</label>
    <select id="operator"></select><br><br>

    <label>งาน:</label>
    <input type="text" id="job"><br><br>

    <button type="submit">บันทึก</button>
  </form>

  <script>
    async function loadDropdowns() {
      const res = await fetch("/get-dropdown-data");
      const data = await res.json();

      let machineSelect = document.getElementById("machine");
      data.machines.forEach(m => {
        let opt = document.createElement("option");
        opt.value = m;
        opt.textContent = m;
        machineSelect.appendChild(opt);
      });

      let operatorSelect = document.getElementById("operator");
      data.operators.forEach(o => {
        let opt = document.createElement("option");
        opt.value = o;
        opt.textContent = o;
        operatorSelect.appendChild(opt);
      });
    }

    loadDropdowns();
  </script>
</body>
</html>
